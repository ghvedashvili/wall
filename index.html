<!DOCTYPE html><html><head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.1.1/angularfire.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <title>wall</title>
  <style>
 @import url("https://fonts.googleapis.com/css?family=Caveat+Brush");
.message .message__form-write .message__form-write__close, .message .message__form-write .message__form-write__text, body {
  font-family: "Caveat Brush", cursive;
  font-size: 18px;
}

body,
html {
  width: 100%;
  height: 100%;
}

.message .message__has-scroll, body,
html {
  display: flex;
}

.message .message__has-scroll, body,
html {
  justify-content: center;
  align-items: center;
}

.message .message__has-scroll {
  flex-wrap: wrap;
}

[ng-cloak] {
  display: none !important;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: #191e38;
}

.message:hover .message__item:not(:hover) {
  color: rgba(255, 255, 255, 0.14) !important;
  transition: color 0s linear 3s;
}
.message .message__has-scroll {
  height: 100vh;
  padding: 1em 2em;
  overflow-x: hidden;
  overflow-y: auto;
}
.message .message__total {
  position: absolute;
  right: 50px;
  bottom: 30px;
  background-color: #0c0f1c;
  padding: 0.5em;
  border-radius: 50%;
  color: #fff;
  font-size: 1.4em;
  animation: fadeIn 1s forwards;
}
.message .message__item {
  padding: 2px;
  margin: 0 2px;
  cursor: default;
  opacity: 0;
  transform: scale(0.5);
  animation: fadeIn 1s forwards;
}
.message .message__item div {
  background-color: transparent;
  transition: all 0.4s ease-in-out 0.2s;
  padding: 0px 8px;
  border-radius: 50px;
}
.message .message__item:hover {
  z-index: 1;
}
.message .message__item:hover div {
  background-color: #090b15;
  transform: scale(1) rotateX(360deg);
  transition: all 0.4s ease-in-out;
}
.message .message__form-write {
  position: absolute;
  left: 0;
  right: 0;
  top: 50px;
  margin: auto;
  width: 350px;
  height: 50px;
  z-index: 2;
}
.message .message__form-write .message__form-write__text {
  width: 100%;
  height: inherit;
  background-color: #0c0f1c;
  border-radius: 50px;
  border: 0 none;
  padding: 0 30px;
  transition: background-color 0.2s linear;
}
.message .message__form-write .message__form-write__text:focus, .message .message__form-write .message__form-write__text:hover {
  background-color: black;
}
.message .message__form-write .message__form-write__close {
  position: absolute;
  color: #fff;
  background: transparent;
  border: 0 none;
  right: 15px;
  top: 0;
  bottom: 0;
  margin: auto;
  cursor: pointer;
  height: inherit;
}

@keyframes fadeIn {
  to {
    opacity: 1;
    transform: scale(1);
  }
}
  </style>
</head>
<div ng-cloak class="message" ng-app="helloWorld" ng-controller="ctrl">

  <form ng-hide="hide == true" class="message__form-write" ng-submit="addMessage($event)">
    <input class="message__form-write__text" type="text" style="color: {{ getColor }}" ng-model="message" maxlength=30 placeholder="Say hello to ðŸŒŽ world ..." required>
    <button class="message__form-write__close" type="button" ng-click="hide = true">x</button>
    Â 
  </form>
<div class="message__has-scroll">
  <span ng-repeat="message in messages | reverse" class="message__item" style="animation-delay: {{0.005 * $index}}s; color: {{ message.color }}">
    <div ng-click="showMessageAlert(message.message)">
      {{ message.message.length > 15 ? (message.message | limitTo: 10) + '...' : message.message }}
    </div>
  </span>
</div>

  <div class="message__total">
    {{ messages.length }}
  </div>
</div>
  <script>
   const app = angular.module("helloWorld", ["firebase"]);

app.filter("reverse", function () {
  return function (items) {
    return items.slice().reverse();
  };
});


app.controller("ctrl", function ($scope, $firebaseArray) {
  const ref = new Firebase(
    "https://veravart-mymagti-default-rtdb.firebaseio.com"
  );
  const random = (min, max) => Math.floor(Math.random() * (max - min)) + min;
  const getColor = () => {
    let colors = [
      "#f44336",
      "#ffc107",
      "#4caf50",
      "#03a9f4",
      "#9c27b0",
      "#ffffff",
      "#607d8b",
      "#e91e63",
      "#ff9800",
      "#009688"
    ];
    return colors[random(0, colors.length)];
  };

  $scope.hide = false;
  $scope.getColor = getColor();

  $scope.messages = $firebaseArray(ref);
  $scope.addMessage = (event) => {
  event.preventDefault();
  let messageLength = Math.floor(Math.random() * (30 - 15 + 1)) + 15;
  let randomMessage = generateRandomMessage(messageLength);
  $scope.messages.$add({
    message: randomMessage,
    color: $scope.getColor()
  });
  $scope.hide = true;
};

function generateRandomMessage(length) {
  let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
  let result = '';
  for (let i = 0; i < length; i++) {
    result += characters.charAt(Math.floor(Math.random() * characters.length));
  }
  return result;
}

  $scope.userMessageInput = ""; // Initialize the user input field

  $scope.showMessageAlert = function (
    messageText,
    timestamp,
    bgColor,
    fontColor
  ) {
    const formattedTimestamp = new Date(timestamp).toLocaleString();
    const alertMessage = `Message: ${messageText}\n\nDate: ${timestamp}`;
    alert(alertMessage);
  };
});

  </script>
